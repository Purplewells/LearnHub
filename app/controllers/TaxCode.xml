<?xml version="1.0" encoding="utf-8"?>
<dataController name="TaxCode" conflictDetection="overwriteChanges" label="Tax Code" plugIn="zLearnHub.Data.AnnotationPlugIn" xmlns="urn:schemas-codeontime-com:data-aquarium">
  <commands>
    <command id="command1" type="Text">
      <text><![CDATA[
select
	"zlkpTaxCode"."TaxCodeID" "TaxCodeID"
	,"zlkpTaxCode"."TaxCode" "TaxCode"
	,"zlkpTaxCode"."CountryID" "CountryID"
	,"Country"."Description" "CountryDescription"
	,"zlkpTaxCode"."Description" "Description"
	,"zlkpTaxCode"."IsEmergencyCode" "IsEmergencyCode"
	,"zlkpTaxCode"."AllowsPersonalAllowance" "AllowsPersonalAllowance"
	,"zlkpTaxCode"."AppliesToMultipleJobs" "AppliesToMultipleJobs"
	,"zlkpTaxCode"."CreatedDate" "CreatedDate"
	,"zlkpTaxCode"."CreatedBy" "CreatedBy"
	,"zlkpTaxCode"."ModifiedDate" "ModifiedDate"
	,"zlkpTaxCode"."ModifiedBy" "ModifiedBy"
from "dbo"."zlkpTaxCode" "zlkpTaxCode"
	left join "dbo"."zlkpCountry" "Country" on "zlkpTaxCode"."CountryID" = "Country"."CountryID"
]]></text>
    </command>
    <command id="TaxCodeIDIdentityCommand" type="Text" event="Inserted">
      <text><![CDATA[select @@identity]]></text>
      <output>
        <fieldOutput fieldName="TaxCodeID" />
      </output>
    </command>
  </commands>
  <fields>
    <field name="TaxCodeID" type="Int32" allowNulls="false" isPrimaryKey="true" label="Tax Code ID" readOnly="true" />
    <field name="TaxCode" type="String" allowNulls="false" label="Tax Code" length="15" showInSummary="true" />
    <field name="CountryID" type="Int32" label="Country ID" showInSummary="true">
      <items style="Lookup" dataController="Country" newDataView="createForm1" dataValueField="CountryID" dataTextField="Description" />
    </field>
    <field name="CountryDescription" type="String" readOnly="true" label="Country" length="100" />
    <field name="Description" type="String" allowNulls="false" label="Description" length="255" showInSummary="true" />
    <field name="IsEmergencyCode" type="Boolean" allowNulls="false" default="((0))" label="Is Emergency Code" showInSummary="true" />
    <field name="AllowsPersonalAllowance" type="Boolean" allowNulls="false" default="((1))" label="Allows Personal Allowance" showInSummary="true" />
    <field name="AppliesToMultipleJobs" type="Boolean" allowNulls="false" default="((0))" label="Applies To Multiple Jobs" />
    <field name="CreatedDate" type="DateTime" allowNulls="false" dataFormatString="g" default="(getdate())" label="Created Date" />
    <field name="CreatedBy" type="String" allowNulls="false" default="(suser_sname())" label="Created By" length="100" />
    <field name="ModifiedDate" type="DateTime" dataFormatString="g" label="Modified Date" />
    <field name="ModifiedBy" type="String" label="Modified By" length="100" />
  </fields>
  <views>
    <view id="grid1" type="Grid" commandId="command1" label="Tax Code">
      <headerText>$DefaultGridViewDescription</headerText>
      <dataFields>
        <dataField fieldName="TaxCode" columns="15" />
        <dataField fieldName="CountryID" aliasFieldName="CountryDescription" />
        <dataField fieldName="Description" />
        <dataField fieldName="IsEmergencyCode" columns="20" />
        <dataField fieldName="AllowsPersonalAllowance" columns="30" />
        <dataField fieldName="AppliesToMultipleJobs" columns="30" />
        <dataField fieldName="CreatedDate" columns="20" hidden="true" />
        <dataField fieldName="CreatedBy" hidden="true" />
        <dataField fieldName="ModifiedDate" columns="20" hidden="true" />
        <dataField fieldName="ModifiedBy" hidden="true" />
      </dataFields>
    </view>
    <view id="editForm1" type="Form" commandId="command1" label="Review Tax Code">
      <headerText>$DefaultEditViewDescription</headerText>
      <categories>
        <category id="c1" headerText="Tax Code" flow="NewColumn">
          <description><![CDATA[$DefaultEditDescription]]></description>
          <dataFields>
            <dataField fieldName="TaxCode" columns="15" />
            <dataField fieldName="CountryID" aliasFieldName="CountryDescription" />
            <dataField fieldName="Description" />
            <dataField fieldName="IsEmergencyCode" />
            <dataField fieldName="AllowsPersonalAllowance" />
            <dataField fieldName="AppliesToMultipleJobs" />
            <dataField fieldName="CreatedDate" columns="20" />
            <dataField fieldName="CreatedBy" />
            <dataField fieldName="ModifiedDate" columns="20" />
            <dataField fieldName="ModifiedBy" />
          </dataFields>
        </category>
      </categories>
    </view>
    <view id="createForm1" type="Form" commandId="command1" label="New Tax Code">
      <headerText>$DefaultCreateViewDescription</headerText>
      <categories>
        <category id="c1" flow="NewColumn">
          <description><![CDATA[$DefaultNewDescription]]></description>
          <dataFields>
            <dataField fieldName="TaxCode" columns="15" />
            <dataField fieldName="CountryID" aliasFieldName="CountryDescription" />
            <dataField fieldName="Description" />
            <dataField fieldName="IsEmergencyCode" />
            <dataField fieldName="AllowsPersonalAllowance" />
            <dataField fieldName="AppliesToMultipleJobs" />
            <dataField fieldName="CreatedDate" columns="20" />
            <dataField fieldName="CreatedBy" />
            <dataField fieldName="ModifiedDate" columns="20" />
            <dataField fieldName="ModifiedBy" />
          </dataFields>
        </category>
      </categories>
    </view>
  </views>
  <actions>
    <actionGroup id="ag1" scope="Grid">
      <action id="a1" commandName="Select" commandArgument="editForm1" />
      <action id="a2" commandName="Edit" />
      <action id="a3" commandName="Delete" />
      <action id="a6" />
      <action id="a7" commandName="New" commandArgument="grid1" />
      <action id="a8" commandName="Duplicate" commandArgument="createForm1" />
      <action id="a9" />
      <action id="a10" commandName="BatchEdit" commandArgument="editForm1" />
    </actionGroup>
    <actionGroup id="ag2" scope="Form">
      <action id="a1" commandName="Edit" />
      <action id="a2" commandName="Delete" />
      <action id="a3" commandName="Cancel" />
      <action id="a4" whenLastCommandName="Edit" commandName="Update" commandArgument="Save" />
      <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
      <action id="a6" whenLastCommandName="New" commandName="Insert" commandArgument="Save" />
      <action id="a7" whenLastCommandName="New" commandName="Insert" commandArgument="SaveAndNew" />
      <action id="a8" whenLastCommandName="New" commandName="Cancel" />
      <action id="a9" whenLastCommandName="Duplicate" commandName="Insert" />
      <action id="a10" whenLastCommandName="Duplicate" commandName="Cancel" />
      <action id="a13" whenLastCommandName="Insert" whenLastCommandArgument="Save" whenView="createForm1" commandName="Select" commandArgument="editForm1" whenClientScript="this.hasDetails()" />
      <action id="a14" whenLastCommandName="Insert" whenLastCommandArgument="SaveAndNew" commandName="New" commandArgument="createForm1" />
    </actionGroup>
    <actionGroup id="ag3" scope="ActionBar" headerText="New" flat="true">
      <action id="a1" commandName="New" commandArgument="createForm1" cssClass="NewIcon" />
    </actionGroup>
    <actionGroup id="ag4" scope="ActionBar" headerText="Edit/Delete" flat="true">
      <action id="a1" whenKeySelected="true" commandName="Edit" commandArgument="editForm1" cssClass="EditIcon" whenView="grid1" />
      <action id="a2" whenKeySelected="true" commandName="Delete" cssClass="DeleteIcon" whenView="grid1" />
    </actionGroup>
    <actionGroup id="ag5" scope="ActionBar" headerText="Actions">
      <action id="a1" commandName="ExportCsv" />
      <action id="a2" />
      <action id="a3" commandName="ExportRowset" />
      <action id="a4" commandName="ExportRss" />
      <action id="a5" />
      <action id="a6" commandName="Import" commandArgument="createForm1" />
      <action id="a7" commandName="DataSheet" />
      <action id="a8" commandName="Grid" />
    </actionGroup>
    <actionGroup id="ag6" scope="ActionBar" headerText="Record">
      <action id="a1" whenLastCommandName="Edit" commandName="Update" />
      <action id="a2" whenLastCommandName="Edit" commandName="Cancel" />
      <action id="a3" whenLastCommandName="New" commandName="Insert" />
      <action id="a4" whenLastCommandName="New" commandName="Cancel" />
    </actionGroup>
    <actionGroup id="ag7" scope="ActionBar" headerText="Report">
      <action id="a1" commandName="ReportAsPdf" />
      <action id="a2" commandName="ReportAsImage" />
      <action id="a3" commandName="ReportAsExcel" />
      <action id="a4" commandName="ReportAsWord" />
    </actionGroup>
    <actionGroup id="ag8" scope="Row">
      <action id="a4" whenLastCommandName="Edit" commandName="Update" />
      <action id="a5" whenLastCommandName="Edit" commandName="Cancel" />
      <action id="a6" whenLastCommandName="New" commandName="Insert" />
      <action id="a7" whenLastCommandName="New" commandName="Cancel" />
    </actionGroup>
  </actions>
</dataController>